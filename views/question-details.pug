extends layout.pug

include utils.pug

block content
  link(rel='stylesheet' href='/stylesheets/questions.css')
  div.body-content-container
    .body-header-content
      .title-container
        span#header-title #{question.title}
      .btn-container
        a(href='/questions/add' method='GET'): button.ask-button Ask Question
    .question-container
      .main-container
        .content-container
          p#content-text #{question.content}
        .sidebar-container
          button.vote-button.upvote-button
          span.vote-count-span #{votes}
          button.vote-button.downvote-button
      .button-container
        if isUser
          a(href=`/questions/${question.id}/edit`): button.edit-button Edit
          a(href=`/questions/${question.id}/delete`): button.delete-button Delete
        else
    .answer-container
      div.answer-header
        span.num-answers #{answers.length} Answers
      div.answer-list-container
        each answer in answers
          div(id= `${answer.id}`)
            .content-container
              p#answer-text #{answer.content}
            .sidebar-container
              button.vote-button.upvote-button
                  //- NEED TO REFACTOR so that answers with 0 votes
                  //- display 0 instead of undefined
                  //- if (`${answerVotesCollection[`${answer.id}vote`]}`
                  //-   span.vote-span 0
                  //- else
              span.vote-span= `${answerVotesCollection[`${answer.id}vote`]}`
              button.vote-button.downvote-button
    .answer-form-container
      .btn-container#post-answer-btn
        a(href='/answers/add' method='GET'): button.post-answer-button Post Your Answer
